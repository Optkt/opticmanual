---
title: NSDE
icon: state
category:
  - 操作数
---

> 分类: [非序列光线追迹和探测器](/hb/operands/131/891/  "Zemax 操作数 非序列光线追迹和探测器")

非序列颜色探测器。面(Surf)定义非序列组（一般在NSC系统中为1）的面序号。Det#是指所需探测器的编号。如果Det#是零，那么所有的探测器被清空。如果Det#小于0，那么Det#的绝对值所定义的探测器被清空。如果Pix#是一个正整数，那么返回值就是指定像素上的数值。否则，不同的Pix#值，将对应不同类型的返回值，如下说明： 
0：探测器上所有像素数据之和。 
对色度坐标，这是探测器上所有像素的平均值，是一个非零的光通量值。如果Pix# 为0，下面描述的面积值是整个探测器的面积，以分析单位为单位测量得到的位置空间数据，或者是以球面度为单位测量得到的角空间数据。 
-1：最大数据。 
-2：最小数据。 
-3：到达探测器的光线数目。 
角度(Angle?): 为0时是位置空间数据，为1时是角空间数据。 
Data是一个整数，用来定义要返回的数据类型。定义如下：  
1： 能量以瓦特为单位，这里是光源单位前缀。 
2： 能量/面积以瓦特/&lt;area&gt;为单位，这里 是分析单位的前缀。如果Angle？是0，&lt;area&gt;是分析单位的面积，如果Angle？是1，&lt;area&gt;是以球面度为单位的立体角。 
3：能量以 流明为单位，这里是光源单位的前缀。 
4：能量/面积以流明/&lt;area&gt;为单位，这里 是分析单位的前缀。如果Angle？是0，&lt;area&gt;是分析单位的面积，如果Angle？是1，&lt;area&gt;是以球面度为单位的立体角。 
5/6：CIE 1931色度坐标x/y。 
7/8： CIE 1976 色度坐标u’/v’。 
9/10/11： CIE 1931 以流明/&lt;area&gt;.为单位的三刺激X，Y，Z的值。 
如果 Angle? 为0 ，&lt;area&gt; 是分析单位的面积。如果Angle? 为1 ，那么&lt;area&gt;就是以球面度为单位的立体角。 
12/13：显色指数（CRI）和相关色温（CCT），后者的单位是开尔文（K）。只有当“记录光谱数据”（“Record Spectral Data”）开启后，才,能返回相应的数值（仅适用于OpticStudio-Premium），并且还要求Pix#和Angle?的值均为0。返回值是基于整个探测器上不同波长的光通量。 
14/15/16：归一化的CIE193三刺激值X/Y/Z的数值。于9/10/11的返回值类似，但是此时返回的是相对于优化编辑器中后续相邻的所有定义相同探测器的NSDE操作数三刺激值中y值的峰值的归一化结果。一般只作为NSC位图函数优化的一部分使用，参见“NSC位图优化函数”（“NSC Bitmap Merit Function Tool”）。 并且仅当Pix#为正整数，Angle?是零时才有效。 
17/18/19/20：分别表示在特定的光谱库（spectral bin）中质心X、Y和均方根半径（RMS），X,Y值。指定光谱库可参见对波长列（Wavelength Column）的描述。定义光谱库可参见Detector Settings in Type section of the Object Properties。 
波长（Wavelength）指定使用哪个光谱库计算质心X/Y和均方根半径/X/Y。如果波长（Wavelength）的数值在光谱库范围内，则将会选择库的数值用于计算。光谱库的详细描述可参见“记录光谱数据”（Record Spectral Data）。 
如果Pix#不是正整数，则大量的边缘像素可以被忽略，如果需要的话。如果赋予# Ignored数值的话，则大量的边缘像素将会被忽略，探测器上用于计算的像素将会沿着边缘减少。例如，一个X向100个像素、Y向200个像素的探测器，如果# Ignored是2，则将会基于探测器的X向96个像素，Y向196个像素进行计算，探测器上、下、左、右边缘两个像素将会被忽略。 
当Pix # = -3，和显色指数（CRT），相关色温（CCT）分别对应data为12和data为13时，# Ignored不影响计算。（当# Ignored为正整数时，同样不影响计算）。 
如果光源单位为焦耳，那么data 1 和data 2的单位也是焦耳，而data 3和data4的单位为talbots。参见 “单位（Units）”。也可参见NSDD和NSDE。